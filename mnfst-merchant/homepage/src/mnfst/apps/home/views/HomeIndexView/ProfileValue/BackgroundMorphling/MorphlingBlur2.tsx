import React from 'react';
import kute from 'kute.js';

export default class MorphlingBlur2 extends React.PureComponent {
  public static startId = 'morph-blur-2-1-start';
  public static startOverlayId = 'morph-blur-2-2-start';
  public static endId = 'morph-blur-2-1-end';
  public static endOverlayId = 'morph-blur-2-2-end';
  public tween;
  public tweenOverlay;

  public componentDidMount() {
    const options = {
      easing: 'easingInOut',
      yoyo: true,
      repeat: 15,
      duration: 8000,
      morphIndex: 127,
      complete: () => {
        if (this.tween) {
          this.tween.start();
        }
      },
    };

    this.tween = kute.fromTo(
      `#${MorphlingBlur2.startId}`,
      {
        path: `#${MorphlingBlur2.startId}`,
        svgTransform: { scale: 0.7 },
      },
      {
        path: `#${MorphlingBlur2.endId}`,
        svgTransform: { scale: 0.7 },
      },
      options,
    ).start();

    this.tweenOverlay = kute.fromTo(
      `#${MorphlingBlur2.startOverlayId}`,
      {
        path: `#${MorphlingBlur2.startOverlayId}`,
        svgTransform: { scale: 0.9 },
      },
      {
        path: `#${MorphlingBlur2.endOverlayId}`,
        svgTransform: { scale: 0.9 },
      },
      {
        ...options,
        complete: () => {
          if (this.tweenOverlay) {
            this.tweenOverlay.start();
          }
        },
      },
    ).start();
  }

  public componentWillUnmount() {
    if (this.tween && this.tweenOverlay) {
      this.tween.stop();
      this.tweenOverlay.stop();
    }
  }

  public render() {
    return (
      <svg
        version="1.1"
        width="750"
        height="500"
        xmlns="http://www.w3.org/2000/svg">
        <g opacity={0.1} fill="#000000">
          {/* tslint:disable max-line-length */}
          <path id={MorphlingBlur2.startOverlayId} fill="#AAAAAA" d="M550,384.470692 C611.332031,306.470692 659.801466,256.17263 581.332031,181.470692 C502.862597,106.768755 527.921875,-43.5293076 414,12.0729025 C300.078125,67.6751126 197.392199,67.461391 168.352104,66.2054993 C136.237115,64.8166281 99.9900268,67.0659732 69.5757715,85.3183487 C-19.1419196,138.560113 -10.5873713,202.034271 26.7719046,247.918389 C51.6459088,278.468279 52.4384383,288.663869 96.1601563,302.470692 C135.5,314.893769 136.950486,346.979871 157.518576,371.642015 C210.113281,434.705633 202.900971,451.306064 268.179687,443.005849 C333.458404,434.705633 273.909293,428.396474 385,428.396474 C496.090707,428.396474 488.667969,462.470692 550,384.470692 Z" />
          <path id={MorphlingBlur2.startId} fill="#444444" d="M550,384.470692 C611.332031,306.470692 659.801466,256.17263 581.332031,181.470692 C502.862597,106.768755 527.921875,-43.5293076 414,12.0729025 C300.078125,67.6751126 197.392199,67.461391 168.352104,66.2054993 C136.237115,64.8166281 99.9900268,67.0659732 69.5757715,85.3183487 C-19.1419196,138.560113 -10.5873713,202.034271 26.7719046,247.918389 C51.6459088,278.468279 52.4384383,288.663869 96.1601563,302.470692 C135.5,314.893769 136.950486,346.979871 157.518576,371.642015 C210.113281,434.705633 202.900971,451.306064 268.179687,443.005849 C333.458404,434.705633 273.909293,428.396474 385,428.396474 C496.090707,428.396474 488.667969,462.470692 550,384.470692 Z" />

          <path id={MorphlingBlur2.endOverlayId} style={{ visibility: 'hidden' }} d="M610.162797,333.840821 C611.268483,332.441758 663.891492,233.117733 664.991849,231.682235 C729.23744,147.869083 692.757976,132.914174 610.162797,54.6822355 C554.156253,1.63433888 470.163816,-12.8167542 358.185485,11.3289563 C260.281291,42.137328 200.965698,57.0955922 180.238707,56.203749 C145.856219,54.7243357 107.049883,57.1203182 74.488211,76.5625875 C-20.4934464,133.275245 -11.334899,200.887358 28.6621511,249.762716 C55.2923994,282.304189 56.140886,293.164441 102.949602,307.871348 C145.067059,321.104299 146.619958,355.282132 168.640271,381.55203 C224.948457,448.72684 217.226917,466.409472 287.114677,457.568156 C357.002436,448.72684 324.296386,440.682235 443.23072,440.682235 C562.165055,440.682235 544.500381,416.925733 610.162797,333.840821 Z" />
          <path id={MorphlingBlur2.endId} style={{ visibility: 'hidden' }} d="M610.162797,333.840821 C611.268483,332.441758 663.891492,233.117733 664.991849,231.682235 C729.23744,147.869083 692.757976,132.914174 610.162797,54.6822355 C554.156253,1.63433888 470.163816,-12.8167542 358.185485,11.3289563 C260.281291,42.137328 200.965698,57.0955922 180.238707,56.203749 C145.856219,54.7243357 107.049883,57.1203182 74.488211,76.5625875 C-20.4934464,133.275245 -11.334899,200.887358 28.6621511,249.762716 C55.2923994,282.304189 56.140886,293.164441 102.949602,307.871348 C145.067059,321.104299 146.619958,355.282132 168.640271,381.55203 C224.948457,448.72684 217.226917,466.409472 287.114677,457.568156 C357.002436,448.72684 324.296386,440.682235 443.23072,440.682235 C562.165055,440.682235 544.500381,416.925733 610.162797,333.840821 Z" />
          {/* tslint:enable max-line-length */}
        </g>
      </svg>
    );
  }
}
